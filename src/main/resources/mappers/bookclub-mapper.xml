<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="clubMapper">
	<select id="selectList"
		resultType="com.bjbj.bookclub.BookclubDTO">
		select * from bookroom order by open_date
	</select>

	<insert id="insert"
		parameterType="com.bjbj.bookclub.BookclubDTO">
		insert into bookroom
		values( #{room_id}, #{room_title}, #{room_detail}
		, null, null, #{room_people}, default, sysdate, sysdate+14
		, #{open_date}, #{close_date}, default, null, #{tag}, #{meet_week},
		#{place} )
	</insert>

	<select id="selectOne" parameterType="int"
		resultType="com.bjbj.bookclub.BookclubDTO">
		select * from bookroom where room_id=#{room_id}
	</select>

	<update id="updateCurrent" parameterType="int">
		update bookroom set room_current = room_current+1 where room_id = #{room_id}
	</update>

	<update id="updateStatus" parameterType="map">
		update bookroom set room_status = #{room_status} where room_id = #{room_id}
	</update>




	<!-- create Room_id(seq_room) sequence -->
	<select id="selectSeq" resultType="int">
		select seq_room.nextval from dual
	</select>


</mapper>
   
  
   
  